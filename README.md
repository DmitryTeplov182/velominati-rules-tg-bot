# üö¥‚Äç‚ôÇÔ∏è Cycling Rules Bot

Telegram –±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–∞–≤–∏–ª –≤–µ–ª–æ—Å–∏–ø–µ–¥–∏—Å—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø—Ä–∞–≤–∏–ª –¥–Ω—è.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- **–ü–æ–∏—Å–∫ –ø—Ä–∞–≤–∏–ª** –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–∞—Ö
- **–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É** –ø—Ä–∞–≤–∏–ª–∞ (1-95)
- **–°–ª—É—á–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ** –∫–æ–º–∞–Ω–¥–∞ `/random`
- **Inline —Ä–µ–∂–∏–º** –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –ª—é–±–æ–º —á–∞—Ç–µ
- **–ü—Ä–∞–≤–∏–ª–æ –¥–Ω—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 10:00

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rules_bot/
‚îú‚îÄ‚îÄ telegram_bot.py      # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îú‚îÄ‚îÄ search_rules.py      # –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º
‚îú‚îÄ‚îÄ daily_rules.py       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–Ω—è
‚îú‚îÄ‚îÄ daily_scheduler.py   # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
‚îú‚îÄ‚îÄ rules.json           # 95 –ø—Ä–∞–≤–∏–ª –Ω–∞ –¥–≤—É—Ö —è–∑—ã–∫–∞—Ö
‚îú‚îÄ‚îÄ data/                # –î–∞–Ω–Ω—ã–µ (–≥—Ä—É–ø–ø—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
‚îÇ   ‚îî‚îÄ‚îÄ groups.json      # –ì—Ä—É–ø–ø—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª –¥–Ω—è
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile           # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yaml  # Docker Compose
‚îî‚îÄ‚îÄ venv/                # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

## üèÉ‚Äç‚ôÇÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```bash
   pip install -r requirements.txt
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–∞:**
   ```bash
   export TELEGRAM_BOT_TOKEN='your_token_here'
   ```

3. **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:**
   ```bash
   python telegram_bot.py
   ```

### Docker –∑–∞–ø—É—Å–∫

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:**
   ```bash
   sudo chown -R 1000:1000 data
   sudo chmod -R 755 data
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª:**
   ```bash
   echo "TELEGRAM_BOT_TOKEN=your_token_here" > .env
   ```

3. **–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose:**
   ```bash
   docker-compose up -d
   ```

4. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
   ```bash
   docker-compose logs -f
   ```

5. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
   ```bash
   docker-compose down
   ```

## üéØ –ü—Ä–∞–≤–∏–ª–∞ –¥–Ω—è

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 10:00
- –ì—Ä—É–ø–ø—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `data/groups.json`
- –¶–∏–∫–ª: 95 –ø—Ä–∞–≤–∏–ª ‚Üí –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –≥—Ä—É–ø–ø—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è

## üîç –ü–æ–∏—Å–∫

- **–¢–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫** –Ω–∞ –¥–≤—É—Ö —è–∑—ã–∫–∞—Ö
- **–ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä: "42")
- **Fuzzy search** –¥–ª—è –Ω–µ—Ç–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Inline —Ä–µ–∂–∏–º** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

## üìù –ö–æ–º–∞–Ω–¥—ã

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
- `/help` - –°–ø—Ä–∞–≤–∫–∞
- `/search <–∑–∞–ø—Ä–æ—Å>` - –ü–æ–∏—Å–∫
- `/rule <–Ω–æ–º–µ—Ä>` - –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É
- `/random` - –°–ª—É—á–∞–π–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

## üê≥ Docker –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **Volume –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `./data:/app/data` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å UID 1000 –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫**: `restart: unless-stopped`
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ó–∞–ø—É—Å–∫ –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
